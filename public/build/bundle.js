var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function s(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const a="undefined"!=typeof window;let l=a?()=>window.performance.now():()=>Date.now(),c=a?t=>requestAnimationFrame(t):t;const u=new Set;function d(t){u.forEach(e=>{e.c(t)||(u.delete(e),e.f())}),0!==u.size&&c(d)}function f(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function w(){return v(" ")}function $(){return v("")}function k(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function b(t){return function(e){return e.preventDefault(),t.call(this,e)}}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function S(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const W=new Set;let E,M=0;function L(t,e,n,o,r,s,i,a=0){const l=16.666/o;let c="{\n";for(let t=0;t<=1;t+=l){const o=e+(n-e)*s(t);c+=100*t+`%{${i(o,1-o)}}\n`}const u=c+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,f=t.ownerDocument;W.add(f);const h=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(m("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?g+", ":""}${d} ${o}ms linear ${r}ms 1 both`,M+=1,d}function C(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),M-=r,M||c(()=>{M||(W.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),W.clear())}))}function N(t){E=t}function D(){const t=function(){if(!E)throw new Error("Function called outside component initialization");return E}();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const r=S(e,n);o.slice().forEach(e=>{e.call(t,r)})}}}const F=[],T=[],A=[],O=[],I=Promise.resolve();let B=!1;function P(t){A.push(t)}let j=!1;const H=new Set;function R(){if(!j){j=!0;do{for(let t=0;t<F.length;t+=1){const e=F[t];N(e),q(e.$$)}for(F.length=0;T.length;)T.pop()();for(let t=0;t<A.length;t+=1){const e=A[t];H.has(e)||(H.add(e),e())}A.length=0}while(F.length);for(;O.length;)O.pop()();B=!1,j=!1,H.clear()}}function q(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}let z;function J(t,e,n){t.dispatchEvent(S(`${e?"intro":"outro"}${n}`))}const U=new Set;let X;function Y(){X={r:0,c:[],p:X}}function G(){X.r||r(X.c),X=X.p}function K(t,e){t&&t.i&&(U.delete(t),t.i(e))}function Q(t,e,n,o){if(t&&t.o){if(U.has(t))return;U.add(t),X.c.push(()=>{U.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}const V={duration:0};function Z(n,o,i,a){let f=o(n,i),h=a?0:1,p=null,g=null,m=null;function v(){m&&C(n,m)}function w(t,e){const n=t.b-h;return e*=Math.abs(n),{a:h,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function $(o){const{delay:s=0,duration:i=300,easing:a=e,tick:$=t,css:k}=f||V,b={start:l()+s,b:o};o||(b.group=X,X.r+=1),p?g=b:(k&&(v(),m=L(n,h,o,i,s,a,k)),o&&$(0,1),p=w(b,i),P(()=>J(n,o,"start")),function(t){let e;0===u.size&&c(d),new Promise(n=>{u.add(e={c:t,f:n})})}(t=>{if(g&&t>g.start&&(p=w(g,i),g=null,J(n,p.b,"start"),k&&(v(),m=L(n,h,p.b,p.duration,0,a,f.css))),p)if(t>=p.end)$(h=p.b,1-h),J(n,p.b,"end"),g||(p.b?v():--p.group.r||r(p.group.c)),p=null;else if(t>=p.start){const e=t-p.start;h=p.a+p.d*a(e/p.duration),$(h,1-h)}return!(!p&&!g)}))}return{run(t){s(f)?(z||(z=Promise.resolve(),z.then(()=>{z=null})),z).then(()=>{f=f(),$(t)}):$(t)},end(){v(),p=g=null}}}function tt(t){t&&t.c()}function et(t,e,o){const{fragment:i,on_mount:a,on_destroy:l,after_update:c}=t.$$;i&&i.m(e,o),P(()=>{const e=a.map(n).filter(s);l?l.push(...e):r(e),t.$$.on_mount=[]}),c.forEach(P)}function nt(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ot(t,e){-1===t.$$.dirty[0]&&(F.push(t),B||(B=!0,I.then(R)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function rt(e,n,s,i,a,l,c=[-1]){const u=E;N(e);const d=n.props||{},f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:c,skip_bound:!1};let h=!1;if(f.ctx=s?s(e,d,(t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&a(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),h&&ot(e,t)),n}):[],f.update(),h=!0,r(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(p)}else f.fragment&&f.fragment.c();n.intro&&K(e.$$.fragment),et(e,n.target,n.anchor),R()}N(u)}class st{$destroy(){nt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function it(t,e,n){const o=t.slice();return o[5]=e[n],o}function at(t){let e,n,o,r,s=t[5].ini+"",i=t[5].end+"";return{c(){e=m("li"),n=v(s),o=v(" - "),r=v(i)},m(t,s){h(t,e,s),f(e,n),f(e,o),f(e,r)},p(t,e){1&e&&s!==(s=t[5].ini+"")&&y(n,s),1&e&&i!==(i=t[5].end+"")&&y(r,i)},d(t){t&&p(e)}}}function lt(e){let n,o,s,i,a,l,c,u,d=e[0].intervals,v=[];for(let t=0;t<d.length;t+=1)v[t]=at(it(e,d,t));return{c(){n=m("form"),o=m("input"),s=w(),i=m("button"),i.textContent="||",a=w(),l=m("ul");for(let t=0;t<v.length;t+=1)v[t].c();x(o,"type","text"),x(o,"placeholder","Name"),o.required=!0,x(o,"class","svelte-ogcd4v"),x(i,"class","-conc -active svelte-ogcd4v"),x(n,"class","-bg svelte-ogcd4v")},m(t,r){h(t,n,r),f(n,o),_(o,e[1]),f(n,s),f(n,i),f(n,a),f(n,l);for(let t=0;t<v.length;t+=1)v[t].m(l,null);c||(u=[k(o,"input",e[3]),k(n,"submit",b(e[2]))],c=!0)},p(t,[e]){if(2&e&&o.value!==t[1]&&_(o,t[1]),1&e){let n;for(d=t[0].intervals,n=0;n<d.length;n+=1){const o=it(t,d,n);v[n]?v[n].p(o,e):(v[n]=at(o),v[n].c(),v[n].m(l,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=d.length}},i:t,o:t,d(t){t&&p(n),g(v,t),c=!1,r(u)}}}function ct(t,e,n){let{workStarted:o}=e;const r=D();let s=o.text;return t.$$set=t=>{"workStarted"in t&&n(0,o=t.workStarted)},[o,s,function(){n(0,o.text=s,o),r("stop")},function(){s=this.value,n(1,s)}]}class ut extends st{constructor(t){super(),rt(this,t,ct,lt,i,{workStarted:0})}}function dt(t){const e=t-1;return e*e*e+1}function ft(t){return t<.5?.5*Math.sin(13*Math.PI/2*2*t)*Math.pow(2,10*(2*t-1)):.5*Math.sin(-13*Math.PI/2*(2*t-1+1))*Math.pow(2,-10*(2*t-1))+1}function ht(t,{delay:e=0,duration:n=400,easing:o=dt}){const r=getComputedStyle(t),s=+r.opacity,i=parseFloat(r.height),a=parseFloat(r.paddingTop),l=parseFloat(r.paddingBottom),c=parseFloat(r.marginTop),u=parseFloat(r.marginBottom),d=parseFloat(r.borderTopWidth),f=parseFloat(r.borderBottomWidth);return{delay:e,duration:n,easing:o,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*s};height: ${t*i}px;padding-top: ${t*a}px;padding-bottom: ${t*l}px;margin-top: ${t*c}px;margin-bottom: ${t*u}px;border-top-width: ${t*d}px;border-bottom-width: ${t*f}px;`}}function pt(t,e,n){const o=t.slice();return o[7]=e[n],o}function gt(t,e,n){const o=t.slice();return o[4]=e[n],o}function mt(e){let n,o,r;return{c(){n=m("div"),n.innerHTML="<p>Not have works!</p> \n\t",x(n,"class","-bg svelte-ovbxx9")},m(t,e){h(t,n,e),r=!0},p:t,i(t){r||(P(()=>{o||(o=Z(n,ht,{delay:600,duration:300,easing:ft},!0)),o.run(1)}),r=!0)},o(t){o||(o=Z(n,ht,{delay:600,duration:300,easing:ft},!1)),o.run(0),r=!1},d(t){t&&p(n),t&&o&&o.end()}}}function vt(t){let e,n,o,r,s=t[7].ini+"",i=t[7].end+"";return{c(){e=m("p"),n=v(s),o=v(" - "),r=v(i)},m(t,s){h(t,e,s),f(e,n),f(e,o),f(e,r)},p(t,e){1&e&&s!==(s=t[7].ini+"")&&y(n,s),1&e&&i!==(i=t[7].end+"")&&y(r,i)},d(t){t&&p(e)}}}function wt(t){let e,n,o,r,s,i,a,l,c,u,d,v;function $(...e){return t[2](t[4],...e)}let y=t[4].intervals,_=[];for(let e=0;e<y.length;e+=1)_[e]=vt(pt(t,y,e));return{c(){e=m("div"),n=m("form"),o=m("input"),s=w(),i=m("button"),i.textContent=">",a=w();for(let t=0;t<_.length;t+=1)_[t].c();l=w(),x(o,"type","text"),o.value=r=t[4].text,o.readOnly=!0,x(o,"class","svelte-ovbxx9"),x(i,"class","-conc -active svelte-ovbxx9"),x(n,"class","svelte-ovbxx9"),x(e,"class","-bg svelte-ovbxx9")},m(t,r){h(t,e,r),f(e,n),f(n,o),f(n,s),f(n,i),f(e,a);for(let t=0;t<_.length;t+=1)_[t].m(e,null);f(e,l),u=!0,d||(v=k(n,"submit",b($)),d=!0)},p(n,s){if(t=n,(!u||1&s&&r!==(r=t[4].text)&&o.value!==r)&&(o.value=r),1&s){let n;for(y=t[4].intervals,n=0;n<y.length;n+=1){const o=pt(t,y,n);_[n]?_[n].p(o,s):(_[n]=vt(o),_[n].c(),_[n].m(e,l))}for(;n<_.length;n+=1)_[n].d(1);_.length=y.length}},i(t){u||(P(()=>{c||(c=Z(e,ht,{duration:300,easing:ft},!0)),c.run(1)}),u=!0)},o(t){c||(c=Z(e,ht,{duration:300,easing:ft},!1)),c.run(0),u=!1},d(t){t&&p(e),g(_,t),t&&c&&c.end(),d=!1,v()}}}function $t(t){let e,n,o=t[0],r=[];for(let e=0;e<o.length;e+=1)r[e]=wt(gt(t,o,e));const s=t=>Q(r[t],1,1,()=>{r[t]=null});let i=null;return o.length||(i=mt()),{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=$(),i&&i.c()},m(t,o){for(let e=0;e<r.length;e+=1)r[e].m(t,o);h(t,e,o),i&&i.m(t,o),n=!0},p(t,[n]){if(3&n){let a;for(o=t[0],a=0;a<o.length;a+=1){const s=gt(t,o,a);r[a]?(r[a].p(s,n),K(r[a],1)):(r[a]=wt(s),r[a].c(),K(r[a],1),r[a].m(e.parentNode,e))}for(Y(),a=o.length;a<r.length;a+=1)s(a);G(),!o.length&&i?i.p(t,n):o.length?i&&(Y(),Q(i,1,1,()=>{i=null}),G()):(i=mt(),i.c(),K(i,1),i.m(e.parentNode,e))}},i(t){if(!n){for(let t=0;t<o.length;t+=1)K(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)Q(r[t]);n=!1},d(t){g(r,t),t&&p(e),i&&i.d(t)}}}function kt(t,e,n){let{workList:o}=e;const r=D();function s(t){r("start",{id:o.findIndex(e=>e.id===t)})}return t.$$set=t=>{"workList"in t&&n(0,o=t.workList)},[o,s,t=>s(t.id)]}class bt extends st{constructor(t){super(),rt(this,t,kt,$t,i,{workList:0})}}function xt(e){let n,o,r;return{c(){n=m("button"),n.textContent="Install",x(n,"id","butInstall")},m(t,s){h(t,n,s),o||(r=k(n,"click",e[1]),o=!0)},p:t,d(t){t&&p(n),o=!1,r()}}}function yt(e){let n,o=e[0]&&xt(e);return{c(){o&&o.c(),n=$()},m(t,e){o&&o.m(t,e),h(t,n,e)},p(t,[e]){t[0]?o?o.p(t,e):(o=xt(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:t,o:t,d(t){o&&o.d(t),t&&p(n)}}}function _t(t){console.log("Weather App was installed.",t)}function St(t,e,n){let o=null;return window.addEventListener("beforeinstallprompt",(function(t){n(0,o=t)})),window.addEventListener("appinstalled",_t),[o,function(t){o.prompt(),o.userChoice.then(t=>{"accepted"===t.outcome?console.log("User accepted the A2HS prompt",t):console.log("User dismissed the A2HS prompt",t),n(0,o=null)})}]}class Wt extends st{constructor(t){super(),rt(this,t,St,yt,i,{})}}var Et,Mt,Lt,Ct,Nt,Dt,Ft=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},Tt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class At{constructor(t=new Date,e){Et.set(this,void 0),Mt.set(this,void 0),Lt.set(this,t=>t.getDate().toString().padStart(2,"0")+"/"+(t.getMonth()+1).toString().padStart(2,"0")+"/"+t.getFullYear().toString()+" "+t.getHours().toString().padStart(2,"0")+":"+t.getMinutes().toString().padStart(2,"0")+":"+t.getSeconds().toString().padStart(2,"0")),Ft(this,Et,t),Ft(this,Mt,e)}stop(){Ft(this,Mt,new Date)}get ini(){return Tt(this,Et)?Tt(this,Lt).call(this,Tt(this,Et)):""}get end(){return Tt(this,Mt)?Tt(this,Lt).call(this,Tt(this,Mt)):""}get dt(){return{ini:Tt(this,Et),end:Tt(this,Mt)}}}Et=new WeakMap,Mt=new WeakMap,Lt=new WeakMap;class Ot{constructor(t="",e=[]){Ct.set(this,void 0),Nt.set(this,void 0),Dt.set(this,void 0),Ft(this,Ct,Math.random().toString(36).substr(2,10)),Ft(this,Nt,t),Ft(this,Dt,e)}get id(){return Tt(this,Ct)}get text(){return Tt(this,Nt)}set text(t){Ft(this,Nt,t)}get intervals(){return Tt(this,Dt)}start(){Ft(this,Dt,[new At,...Tt(this,Dt)])}stop(){Tt(this,Dt)[0].stop()}}Ct=new WeakMap,Nt=new WeakMap,Dt=new WeakMap;var It,Bt,Pt=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},jt=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)};class Ht{constructor(){It.set(this,void 0),Bt.set(this,void 0),Pt(this,It,[]),this.load()}save(){localStorage.setItem("workrometer",JSON.stringify({workStarted:jt(this,Bt)?{text:jt(this,Bt).text,intervals:jt(this,Bt).intervals.map(t=>({ini:t.dt.ini,end:t.dt.end}))}:void 0,workList:jt(this,It).map(t=>({text:t.text,intervals:t.intervals.map(t=>({ini:t.dt.ini,end:t.dt.end}))}))}))}load(){const t=JSON.parse(localStorage.getItem("workrometer"));t&&(Pt(this,It,t.workList.map(t=>new Ot(t.text,t.intervals.map(t=>new At(new Date(t.ini),new Date(t.end)))))),t.workStarted&&Pt(this,Bt,new Ot(t.workStarted.text,t.workStarted.intervals.map(t=>new At(new Date(t.ini),t.end?new Date(t.end):void 0)))))}newWork(){this.stopWork(),Pt(this,Bt,new Ot("New Work")),jt(this,Bt).start(),this.save()}delWork(){Pt(this,It,[]),this.save()}stopWork(){jt(this,Bt)&&(jt(this,Bt).stop(),Pt(this,It,[jt(this,Bt),...jt(this,It)]),Pt(this,Bt,void 0)),this.save()}startWork(t){const e=t+(jt(this,Bt)?1:0);this.stopWork(),Pt(this,Bt,jt(this,It)[e]),jt(this,Bt).start(),jt(this,It).splice(e,1),this.save()}get workList(){return jt(this,It)}get workStarted(){return jt(this,Bt)}}function Rt(t){let e,n;return e=new ut({props:{workStarted:t[2]}}),e.$on("stop",t[4]),{c(){tt(e.$$.fragment)},m(t,o){et(e,t,o),n=!0},p(t,n){const o={};4&n&&(o.workStarted=t[2]),e.$set(o)},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){Q(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function qt(t){let e,n,o,s,i,a,l,c,u,d,g,$,b,_,S,W,E,M=t[2]&&Rt(t);return u=new bt({props:{workList:t[1]}}),u.$on("start",t[5]),_=new Wt({}),{c(){e=m("header"),n=m("h1"),o=v(t[0]),s=w(),i=m("div"),a=m("button"),a.textContent="+",l=w(),M&&M.c(),c=w(),tt(u.$$.fragment),d=w(),g=m("footer"),$=m("button"),$.textContent="X",b=w(),tt(_.$$.fragment),x(n,"class","svelte-r5nvck"),x(a,"class","-conc -active svelte-r5nvck"),x(i,"class","control svelte-r5nvck"),x(e,"class","-bg svelte-r5nvck"),x($,"class","-conc -active svelte-r5nvck"),x(g,"class","-bg svelte-r5nvck")},m(r,p){h(r,e,p),f(e,n),f(n,o),f(e,s),f(e,i),f(i,a),h(r,l,p),M&&M.m(r,p),h(r,c,p),et(u,r,p),h(r,d,p),h(r,g,p),f(g,$),h(r,b,p),et(_,r,p),S=!0,W||(E=[k(a,"click",t[3]),k($,"click",t[6])],W=!0)},p(t,[e]){(!S||1&e)&&y(o,t[0]),t[2]?M?(M.p(t,e),4&e&&K(M,1)):(M=Rt(t),M.c(),K(M,1),M.m(c.parentNode,c)):M&&(Y(),Q(M,1,1,()=>{M=null}),G());const n={};2&e&&(n.workList=t[1]),u.$set(n)},i(t){S||(K(M),K(u.$$.fragment,t),K(_.$$.fragment,t),S=!0)},o(t){Q(M),Q(u.$$.fragment,t),Q(_.$$.fragment,t),S=!1},d(t){t&&p(e),t&&p(l),M&&M.d(t),t&&p(c),nt(u,t),t&&p(d),t&&p(g),t&&p(b),nt(_,t),W=!1,r(E)}}}function zt(t,e,n){let{name:o}=e;const r=new Ht;let s=r.workList,i=r.workStarted;function a(){n(1,s=r.workList),n(2,i=r.workStarted)}return t.$$set=t=>{"name"in t&&n(0,o=t.name)},[o,s,i,function(){r.newWork(),a()},function(){r.stopWork(),a()},function(t){r.startWork(t.detail.id),a()},function(){r.delWork(),a()}]}It=new WeakMap,Bt=new WeakMap;return new class extends st{constructor(t){super(),rt(this,t,zt,qt,i,{name:0})}}({target:document.body,props:{name:"Workrometer"}})}();
//# sourceMappingURL=bundle.js.map
